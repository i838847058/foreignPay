import{u as e,a,g as t,l as o,r,_ as u}from"./index-89e68af4.js";import{E as l}from"./element-plus-4558d196.js";import"./vue-router-92c379a0.js";import"./pinia-5a067fd7.js";import"vue";import"./pinia-plugin-persistedstate-d2bd58cf.js";import"./axios-fb7d3bb8.js";import"./zipson-6762d745.js";import"./clipboard-cbe03109.js";import"./@element-plus-5ebee6a8.js";import"./mitt-f0e54764.js";import"./@vueuse-cbdcbac7.js";import"./@vue-3c868319.js";import"./@ctrl-91de2ec7.js";import"./lodash-es-4fe5ddc0.js";const s=""+new URL("../png/login-996560b2.png",import.meta.url).href,i=e=>(Vue.pushScopeId("data-v-a1ce6b28"),e=e(),Vue.popScopeId(),e),n={class:"login-page"},d={class:"page-container"},p=i((()=>Vue.createElementVNode("div",{class:"container-img"},[Vue.createElementVNode("img",{src:s,loading:"lazy"})],-1))),c={class:"container-form"},m=i((()=>Vue.createElementVNode("div",{class:"form-title"},"登录",-1))),V=["src"],f=u(Vue.defineComponent({__name:"index",setup(u){const s=Vue.ref(),i=Vue.reactive({username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}],captcha:[{required:!0,message:"请输入验证码",trigger:"blur"}]}),f=e(),g=a();let v=Vue.ref("");const h=Vue.reactive({username:"",password:"",captcha:""});let{username:w,password:j,captcha:N}=Vue.toRefs(h);Vue.onMounted((()=>{b()}));const b=()=>{t().then((e=>{v.value=e}))},C=async()=>{await g.fetchMenuData()};return(e,a)=>{const t=Vue.resolveComponent("el-input"),u=Vue.resolveComponent("el-form-item"),g=Vue.resolveComponent("el-button"),y=Vue.resolveComponent("el-form");return Vue.openBlock(),Vue.createElementBlock("div",n,[Vue.createElementVNode("div",d,[p,Vue.createElementVNode("div",c,[m,Vue.createVNode(y,{ref_key:"ruleFormRef",ref:s,model:h,rules:i,"label-position":"top"},{default:Vue.withCtx((()=>[Vue.createVNode(u,{label:"用户名",prop:"username",required:""},{default:Vue.withCtx((()=>[Vue.createVNode(t,{modelValue:Vue.unref(w),"onUpdate:modelValue":a[0]||(a[0]=e=>Vue.isRef(w)?w.value=e:w=e),placeholder:"请输入"},null,8,["modelValue"])])),_:1}),Vue.createVNode(u,{label:"密码",prop:"password",required:""},{default:Vue.withCtx((()=>[Vue.createVNode(t,{modelValue:Vue.unref(j),"onUpdate:modelValue":a[1]||(a[1]=e=>Vue.isRef(j)?j.value=e:j=e),placeholder:"请输入",type:"password","show-password":""},null,8,["modelValue"])])),_:1}),Vue.createVNode(u,{label:"谷歌验证码（6位）",prop:"captcha",required:""},{default:Vue.withCtx((()=>[Vue.createVNode(t,{modelValue:Vue.unref(N),"onUpdate:modelValue":a[2]||(a[2]=e=>Vue.isRef(N)?N.value=e:N=e),placeholder:"请输入"},null,8,["modelValue"])])),_:1}),Vue.unref(v)?(Vue.openBlock(),Vue.createElementBlock("img",{key:0,class:"verification-img",src:Vue.unref(v),onClick:a[3]||(a[3]=e=>b()),loading:"lazy"},null,8,V)):Vue.createCommentVNode("",!0),Vue.createVNode(g,{class:"submit-btn",type:"primary",onClick:a[4]||(a[4]=e=>(async e=>{e&&await e.validate((async(e,a)=>{if(e){const e=await o(h),{code:a,data:t,msg:u}=e;1===a?(C(),await f.login({...t.userinfo,password:h.password}),r.push("/data-statistics")):(l({title:"通知",message:u,type:"error"}),b())}}))})(s.value))},{default:Vue.withCtx((()=>[Vue.createTextVNode("登录")])),_:1})])),_:1},8,["model","rules"])])])])}}}),[["__scopeId","data-v-a1ce6b28"]]);export{f as default};
