/*!
  * pinia v2.0.36
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */
let e;const t=t=>e=t,n=Symbol();function s(e){return e&&"object"==typeof e&&"[object Object]"===Object.prototype.toString.call(e)&&"function"!=typeof e.toJSON}var i,u;function o(){const e=VueDemi.effectScope(!0),s=e.run((()=>VueDemi.ref({})));let i=[],u=[];const o=VueDemi.markRaw({install(e){t(o),VueDemi.isVue2||(o._a=e,e.provide(n,o),e.config.globalProperties.$pinia=o,u.forEach((e=>i.push(e))),u=[])},use(e){return this._a||VueDemi.isVue2?i.push(e):u.push(e),this},_p:i,_a:null,_e:e,_s:new Map,state:s});return o}(u=i||(i={})).direct="direct",u.patchObject="patch object",u.patchFunction="patch function";const c=()=>{};function a(e,t,n,s=c){e.push(t);const i=()=>{const n=e.indexOf(t);n>-1&&(e.splice(n,1),s())};return!n&&VueDemi.getCurrentScope()&&VueDemi.onScopeDispose(i),i}function r(e,...t){e.slice().forEach((e=>{e(...t)}))}function f(e,t){e instanceof Map&&t instanceof Map&&t.forEach(((t,n)=>e.set(n,t))),e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const n in t){if(!t.hasOwnProperty(n))continue;const i=t[n],u=e[n];s(u)&&s(i)&&e.hasOwnProperty(n)&&!VueDemi.isRef(i)&&!VueDemi.isReactive(i)?e[n]=f(u,i):e[n]=i}return e}const p=Symbol(),m=new WeakMap;const{assign:V}=Object;function l(e,n,u={},o,l,h){let D;const d=V({actions:{}},u),y={deep:!0};let v,b,_,j=VueDemi.markRaw([]),O=VueDemi.markRaw([]);const g=o.state.value[e];let w;function R(t){let n;v=b=!1,"function"==typeof t?(t(o.state.value[e]),n={type:i.patchFunction,storeId:e,events:_}):(f(o.state.value[e],t),n={type:i.patchObject,payload:t,storeId:e,events:_});const s=w=Symbol();VueDemi.nextTick().then((()=>{w===s&&(v=!0)})),b=!0,r(j,n,o.state.value[e])}h||g||(VueDemi.isVue2?VueDemi.set(o.state.value,e,{}):o.state.value[e]={}),VueDemi.ref({});const $=h?function(){const{state:e}=u,t=e?e():{};this.$patch((e=>{V(e,t)}))}:c;function S(n,s){return function(){t(o);const i=Array.from(arguments),u=[],c=[];let a;r(O,{args:i,name:n,store:E,after:function(e){u.push(e)},onError:function(e){c.push(e)}});try{a=s.apply(this&&this.$id===e?this:E,i)}catch(f){throw r(c,f),f}return a instanceof Promise?a.then((e=>(r(u,e),e))).catch((e=>(r(c,e),Promise.reject(e)))):(r(u,a),a)}}const k={_p:o,$id:e,$onAction:a.bind(null,O),$patch:R,$reset:$,$subscribe(t,n={}){const s=a(j,t,n.detached,(()=>u())),u=D.run((()=>VueDemi.watch((()=>o.state.value[e]),(s=>{("sync"===n.flush?b:v)&&t({storeId:e,type:i.direct,events:_},s)}),V({},y,n))));return s},$dispose:function(){D.stop(),j=[],O=[],o._s.delete(e)}};VueDemi.isVue2&&(k._r=!1);const E=VueDemi.reactive(k);o._s.set(e,E);const P=o._e.run((()=>(D=VueDemi.effectScope(),D.run((()=>n())))));for(const t in P){const n=P[t];if(VueDemi.isRef(n)&&(M=n,!VueDemi.isRef(M)||!M.effect)||VueDemi.isReactive(n))h||(!g||(I=n,VueDemi.isVue2?m.has(I):s(I)&&I.hasOwnProperty(p))||(VueDemi.isRef(n)?n.value=g[t]:f(n,g[t])),VueDemi.isVue2?VueDemi.set(o.state.value[e],t,n):o.state.value[e][t]=n);else if("function"==typeof n){const e=S(t,n);VueDemi.isVue2?VueDemi.set(P,t,e):P[t]=e,d.actions[t]=n}}var I,M;return VueDemi.isVue2?Object.keys(P).forEach((e=>{VueDemi.set(E,e,P[e])})):(V(E,P),V(VueDemi.toRaw(E),P)),Object.defineProperty(E,"$state",{get:()=>o.state.value[e],set:e=>{R((t=>{V(t,e)}))}}),VueDemi.isVue2&&(E._r=!0),o._p.forEach((e=>{V(E,D.run((()=>e({store:E,app:o._a,pinia:o,options:d}))))})),g&&h&&u.hydrate&&u.hydrate(E.$state,g),v=!0,b=!0,E}function h(s,i,u){let o,c;const a="function"==typeof i;function r(s,u){const r=VueDemi.getCurrentInstance();(s=s||r&&VueDemi.inject(n,null))&&t(s),(s=e)._s.has(o)||(a?l(o,i,c,s):function(e,n,s,i){const{state:u,actions:o,getters:c}=n,a=s.state.value[e];let r;r=l(e,(function(){a||(VueDemi.isVue2?VueDemi.set(s.state.value,e,u?u():{}):s.state.value[e]=u?u():{});const n=VueDemi.toRefs(s.state.value[e]);return V(n,o,Object.keys(c||{}).reduce(((n,i)=>(n[i]=VueDemi.markRaw(VueDemi.computed((()=>{t(s);const n=s._s.get(e);if(!VueDemi.isVue2||n._r)return c[i].call(n,n)}))),n)),{}))}),n,s,0,!0)}(o,c,s));return s._s.get(o)}return"string"==typeof s?(o=s,c=a?u:i):(c=s,o=s.id),r.$id=o,r}export{o as c,h as d};
